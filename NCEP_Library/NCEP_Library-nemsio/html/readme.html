<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-NEMSIO: README for NEMSIO</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="ccpp_dox_extra_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ncep.jpg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NCEPLIBS-NEMSIO
   &#160;<span id="projectnumber">Version3.0</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('readme.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">README for NEMSIO </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>NOAA/NCEP/EMC NCWCP 2017</h2>
<h2>BYTE-ADDRESSABLE I/O C PACKAGE</h2>
<p><em>Originally written by M.Iredell &amp; J.Wang</em></p>
<p>Code Management and Version targeted to improve performance by Hang Lei</p>
<p>Location: URL:</p>
<p>git clone <a href="https://vlab.ncep.noaa.gov/code-review/NCEPLIBS-nemsio">https://vlab.ncep.noaa.gov/code-review/NCEPLIBS-nemsio</a></p>
<p><b>Directory contains:</b> </p><pre class="fragment">README                   - current file
src
modulefiles
</pre><p>Adjust to NCO format for version v2.2.5</p>
<p><b>on WCOSS-Phase 1/2 and theia</b> </p><pre class="fragment">lib/nemsio/v2.2.5
            |
            `--src
            `--modulefiles
            |     |
            |     `--v2.2.5
            `--unit_test
            `--libnemsio_v2.2.5.a
            |
            `--include
                  |
                  `--nemsio_v2.0.2.3
                           |
                           `--nemsio_*.mod
</pre><p><b>on WCOSS-Cray</b> </p><pre class="fragment">lib/nemsio/v2.2.5
  |
  `--src
  `--modulefiles
  |     |
  |     `--v2.2.5
  `--unit_test
  `--intel
  |     |
  |     `--libnemsio_v2.2.5.a
  |     |
  |     `--include
  |           |
  |           `--nemsio_v2.2.5
  |                    |
  |                    `--nemsio_*.mod
  |
  `--cray
        |
        `--libnemsio_v2.2.5.a
        |
        `--include
              |
              `--nemsio_v2.2.5
                       |
                       `--NEMSIO_*.mod
</pre><p>nceplibs/nemsio lib:</p>
<p>V2.2.5 Hang Lei since version 2.2.5, the nemsio library only update on VLAB. In this version, the improvement is made to read extra meta data in nemsio files. logical conditions is added in <a class="el" href="nemsio__openclose_8f90.html">nemsio_openclose.f90</a> line 2512-2570.</p>
<p>svn site: <a href="https://svnemc.ncep.noaa.gov/projects/nceplibs/nemsio/trunk">https://svnemc.ncep.noaa.gov/projects/nceplibs/nemsio/trunk</a></p>
<h3>20120723</h3>
<ol type="1">
<li>fix data type for input argument IX in subroutine BAFRINDEX of bafrio.f</li>
<li>when option "rdwr" is chosen to update a nemsio grib file, a bug is fixed to read out pressure fields.</li>
<li>For nemsio grib file, the Gaussian grid information will be computed only once.</li>
</ol>
<p>These changes have no impact on the results.</p>
<h3>20120509:</h3>
<ol type="1">
<li>This nemsio version is v17978 from nemsio repository : <a href="https://svnemc.ncep.noaa.gov/projects/nems/branches/nemsio">https://svnemc.ncep.noaa.gov/projects/nems/branches/nemsio</a>. It is considered as a first merged version from user's application on zeus. This version has byteswap inside. It reads a binary file using machine endianness, if failed it then reads the file with opposite machine endianness. It writes a file with machine endianness unless it is specified in "gdatatype".</li>
<li>Potential problems when updating user's application to this version:</li>
</ol>
<p>Since nemsio fixed some field names and changed precision in ncep grib table, you may notice that some fields are changing names and values. But so far I don't expect any serious problem to prevent your application from running due to nemsio upgrade except in NEMS NMMB code. If you are updating nemsio lib and your application can not run properly, please let me know.</p>
<p><b>a)NEMS NMMB</b></p>
<p>If you are on NEMS trunk version 16506 or earlier, and would like to stick at that version but to use nemsio version 16500 and later, NEMS NMMB code should made following changes:</p>
<p><b>step 1)</b> </p><pre class="fragment">go to nems code: src/atmos/share:
-remove module_NEMSIO_MPI.F90, 
-delete module_NEMSIO_MPI.o in makefile
</pre><p><b>step 2)</b> </p><pre class="fragment">in src/atmos/nmm: 
change:
"use module_nemsio_mpi"
to:
"use nemsio_module_mpi"
in file module_PHYSICS_INIT_READ_NEMSIO.F90 and module_DYNAMICS_INIT_READ_NEMSIO.F90
</pre><p><b>b)NEMS GFS output data</b></p>
<p>If you are accessing folowing NEMS GFS output flx fields from NEMS trunk verion 14719 and before, csulwrf csuswrf csdlwrf csdswrf snohfa smcwlt smcref sunshine</p>
<p>You should access them with standard names in ncep grib table, which are shown in NEMS trunk verion 14725 and later. csulf csusf csdlf csdsf snohf wilt fldcp sunsd</p>
<p>@@:</p>
<p>if you have questions on nemsio lib, please email: <a href="#" onclick="location.href='mai'+'lto:'+'jun'+'.w'+'ang'+'@n'+'oaa'+'.g'+'ov'; return false;">jun.w<span style="display: none;">.nosp@m.</span>ang@<span style="display: none;">.nosp@m.</span>noaa.<span style="display: none;">.nosp@m.</span>gov</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu May 21 2020 14:15:56 for NCEPLIBS-NEMSIO by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.18 </li>
  </ul>
</div>
</body>
</html>
